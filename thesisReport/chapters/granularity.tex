\chapter{Granularity}\label{chapter:granularity}
\section{Introduction}\label{section:granularity/introduction}
The granularity of a service is often ambiguous and has different interpretation. In simple term, it refers to the size of the service. However, the size itself can be vague. It can neither be defined as a single quantitative value nor it can be defined in terms of single dependent criterion. It is difficult to define granularity in terms of number because the concepts defining granularity are vague and subjective in nature. If we choose an activity supported by the service to determine its granularity then we cannot have one fixed value instead a hierarchical list of answers; where an activity can either refer to a simple state change, any action performed by an actor or a complete business process. [1][2]
\\
Although the interest upon the granularity of a component or service for the business users only depends upon their business value, there is no doubt that the granularity affects the architecture of a system. The honest granularity of a service should reflect upon both business perspective and should also consider the impact upon the overall architecture.
\\
If we consider other units of software application, we come from object oriented to component based and then to service oriented development. Such a transistion has been considered with the increase in size of the individual unit. The increase in size is contributed by the interpretation or the choice of the abstraction used. For example, in case of object oriented paradigm, the abstraction is chosen to represent close impression of real world objects, each unit representing fine grained abstraction with some attributes and functionalities. 
\\
Nevertheless, such abstraction is a good approach towards development simplicity and understanding, it is not sufficient when high order business goals have to be implemented. It indicates the necessity of coarser-grained units than units of object oriented paradigm. Moreover, component based development introduced the concept of business components which target the business problems and are coarser grained. The services provide access to application where each application is composed of various component services. [1]


1. https://msdn.microsoft.com/en-us/library/bb833022.aspx
2. http://link.springer.com/chapter/10.1007/978-3-540-69534-9_29
3. http://dl.acm.org/citation.cfm?id=555657,   Herzum and Sims
4. http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1347298,  Vitharana et al
5. http://www.soa-zone.com/index.php?/archives/11-Getting-web-servicegranularity-right.html, Foody, D.: Getting web service granularity right (August 2005)
6. https://msdn.microsoft.com/en-us/library/aa480028.aspx#aj2service_topic8, Wilkes, L., Veryard, R.: Service-oriented architecture: Considerations for agile systems (April 2004),
7. http://www.diva-portal.org/smash/get/diva2:23243/FULLTEXT01.pdf
8.http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=5362767&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D5362767
9. http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=4159685&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D4159685
10. http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=4724572&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D4724572
11.  Herzum, P., Sims, O.: Business Components Factory: A Comprehensive Overview
of Component-Based Development for the Enterprise. John Wiley & Sons, Inc.,
New York (2000)
12. Mili, H., Mili, A., Yacoub, S., Addy, E.: Reuse-Based Software Engineering: Techniques,
Organizations, and Controls. John Wiley & Sons, Chichester (2002)
13. Wang, Z., Xu, X., Zhan, D.: A survey of business component identification methods
and related techniques. International Journal of Information Technology 2, 229â€“238
(2005)
14.  Sims, O.: Developing the architectural framework for SOA - part 2-service granularity
and dependency management. CBDI Forum Journal (June 2005)
\section{Related Work}\label{section:granularity/relatedwork}

A number of researches have been done in the area of service and component granularity. The focus of the researches includes various areas such as definition, effect, its dependent criteria and various measurement metrics.
\\
According to Hazen and Sims [11], component granularity is rather recursive as a component can be composed of various fine-grained components. They further classify recursion as of discrete or continuous nature but then prefer on discrete recursion. Thus, component granularity can be divide into three discrete layers: system, business and distributed where the composition happens from right to left order and granularity decreases in the opposite order.
It is also useful to relate granularity with reusability. Coarse-grained components have high reuse efficiency because they are well focused to a specific business functionality. Whereas fine-grained components have high reusability since they focus on small functionality and thus can be used by other coarse-grained components to accomplish higher level business capabilities. [12, 13]
Additionally, Sims [14] gave some insights to measure granularity. The granularity can be measured either a) by the number of components called from an operation on a service interface, b) by the number components calling the service interface or c) by the number of database tables updated.

%here

Hazem and Sims have also supported the hierarchical nature of components granularity. A component functionality is composed of various fine grained components and thus leads to a hierarchy level of granularity. [3]
According to [4], the granularity of a component is inversely related to various non functional qualities such as customization and maintainaibility. 

The following section provides some views regarding the granularity based on various research papers.
1. The correct granularity of a component or a service is dependent upon the time. The various supporting technologies that evolve during time can also be an important factor to define the level of vertical decomposition. [3]
2. A good candidate for a service should be independent upon the implementation but depends upon the understandability of domain experts.
[2, 3]
3. A service should be an autonomous reusable component and should support various cohesion such as functional (group similar functions), temporal(change in the service should not affect other services),run-time(allocate similar runtime environment for similar jobs; eg. provide same address space for jobs of similar computing intensity) and actor ( a component should provide service to similar users).
[2, 3]
4. A service should not support huge number of operations. If it happens, it will affect high number of customers on any change and there will be no unified view on the functionality. [2]
5. A service should provide transaction integrity and compensation. The activities supported by a service should be within the scope of one transaction. Additionally, the compensation should be provided when the transaction fails. [2,5]
6. The notion of right granularity is more important than that of fine or coarse. It depends upon the usage condition and moreover is about balancing various qualities such as reusability, network usage, completeness of context etc. [2, 6]
7. The level of abstraction of the services should reflect the level of real world business activities. [7]



Service Hierarchy

 